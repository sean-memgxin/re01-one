name: Visit Logger
on:
  repository_dispatch:
    types: [page_visited]

jobs:
  log-visit:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    
    steps:
    - uses: actions/checkout@v4

    - name: è®°å½•æ—¶é—´
      run: |
        echo "$(date -u '+%Y-%m-%d %H:%M:%S UTC')" >> visit-times.txt

    - name: æäº¤å˜æ›´
      run: |
        git config --global user.name "Auto Logger"
        git add visit-times.txt
        git commit -m "ğŸ“… è‡ªåŠ¨è®°å½•è®¿é—®æ—¶é—´"
        git push
